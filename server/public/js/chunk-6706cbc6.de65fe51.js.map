{"version":3,"sources":["webpack:///./src/components/ReUploadPitchDeckModal.vue?e2eb","webpack:///src/components/ReUploadPitchDeckModal.vue","webpack:///./src/components/ReUploadPitchDeckModal.vue?b09c","webpack:///./src/components/ReUploadPitchDeckModal.vue","webpack:///./src/components/ReUploadPitchDeckModal.vue?3c6e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","title","instructions","on","$event","preventDefault","onFormSubmit","uploadFieldName","inputHelp","staticStyle","inputValid","model","value","callback","$$v","file","expression","_e","successMessage","reset","uploadError","staticRenderFns","name","components","PulseLoader","data","currentStatus","STATUS_INITIAL","fileName","routerLinkTo","computed","isInitial","isSaving","STATUS_SAVING","isSuccess","STATUS_SUCCESS","isFailed","STATUS_FAILED","mounted","methods","onNextButtonClick","updateUserState","state","component"],"mappings":"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","file":"js/chunk-6706cbc6.de65fe51.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root\",attrs:{\"id\":\"view\"}},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('p',[_vm._v(_vm._s(_vm.instructions))]),(_vm.isInitial)?_c('div',{staticClass:\"form-container\"},[_c('b-form',{attrs:{\"id\":\"upload-form\",\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onFormSubmit($event)}}},[_c('fieldset',[_c('fieldset',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label col-form-label-lg\",attrs:{\"for\":_vm.uploadFieldName}},[_vm._v(\" Upload your pitch deck here \")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.inputHelp)+\" \")]),_c('b-form-file',{staticStyle:{\"text-align\":\"left\"},attrs:{\"name\":_vm.uploadFieldName,\"accept\":\"application/pdf, application/vnd.openxmlformats-officedocument.presentationml.presentation\",\"required\":\"\",\"state\":_vm.inputValid,\"autofocus\":\"\",\"size\":\"lg\",\"placeholder\":\"Choose a file...\",\"drop-placeholder\":\"Drop your file here...\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_c('input',{staticClass:\"btn btn-lg btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.inputValid,\"value\":\"Upload\"}})])])],1):_vm._e(),(_vm.isSaving)?_c('div',{staticClass:\"message\"},[_c('p',[_vm._v(\" Uploading file \")]),_c('PulseLoader',{staticClass:\"loader\",attrs:{\"color\":\"#007bff\",\"size\":\"25px\"}})],1):_vm._e(),(_vm.isSuccess)?_c('div',{staticClass:\"message\"},[_c('p',[_vm._v(_vm._s(_vm.successMessage))])]):_vm._e(),(_vm.isFailed)?_c('div',{staticClass:\"message\"},[_c('p',[_vm._v(\" Uploaded failed. \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\" Try again \")])]),_c('pre',[_vm._v(_vm._s(_vm.uploadError))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport {\n  mapActions,\n  mapGetters,\n} from 'vuex';\nimport {\n  UPLOAD_PITCH_DECK,\n  UPDATE_USER_STATE,\n} from '@/store/actions.type';\n\n/**\n * vuex module names\n */\nconst PITCH_DECK = 'pitchDeck';\nconst AUTH = 'auth';\n\n/**\n * component states\n */\nconst STATUS_INITIAL = 0;\nconst STATUS_SAVING = 1;\nconst STATUS_SUCCESS = 2;\nconst STATUS_FAILED = 3;\n\n/**\n * ReUploadPitchDeckModal\n *\n * The form modal for re-uploading a pitch deck.\n */\nexport default {\n  name: 'ReUploadPitchDeckModal',\n  components: {\n    PulseLoader: () => import('vue-spinner/src/PulseLoader.vue'),\n  },\n  data () {\n    return {\n      currentStatus: STATUS_INITIAL,\n      uploadError: null,\n      uploadFieldName: 'pitchdeck',\n      file: null,\n      fileName: '',\n      instructions: 'Please upload your pitch deck using the form below.',\n      title: 'Upload Pitch Deck',\n      routerLinkTo: 'home',\n      successMessage: 'Thank you for uploading your pitch deck!',\n      inputHelp: 'We prefer PowerPoint, but you may submit .pdf',\n    };\n  },\n  computed: {\n    ...mapGetters({\n      pitchDeck: 'pitchDeck/pitchDeck',\n    }),\n    inputValid () {\n      return this.file !== null;\n    },\n    isInitial () {\n      return this.currentStatus === STATUS_INITIAL;\n    },\n    isSaving () {\n      return this.currentStatus === STATUS_SAVING;\n    },\n    isSuccess () {\n      return this.currentStatus === STATUS_SUCCESS;\n    },\n    isFailed () {\n      return this.currentStatus === STATUS_FAILED;\n    },\n  },\n  mounted () {\n    this.reset();\n  },\n  methods: {\n    ...mapActions({\n      createPitchDeck: `${PITCH_DECK}/${UPLOAD_PITCH_DECK}`,\n      updateUserState: `${AUTH}/${UPDATE_USER_STATE}`,\n    }),\n    /**\n     * Reset form to initial state\n     */\n    reset () {\n      this.currentStatus = STATUS_INITIAL;\n      this.uploadError = null;\n      this.file = null;\n    },\n    /**\n     * Upload file to server\n     * @param formData The form data to send to server\n     */\n    async uploadFile (formData) {\n      this.currentStatus = STATUS_SAVING;\n      try {\n        await this.createPitchDeck(formData);\n        this.currentStatus = STATUS_SUCCESS;\n      } catch (err) {\n        this.uploadError = err.response;\n        this.currentStatus = STATUS_FAILED;\n      }\n    },\n    /**\n     * Handle form submission\n     * @param evt The event object\n     */\n    async onFormSubmit (evt) {\n      try {\n        if (!this.file) return;\n        const formData = new FormData();\n        formData.append(this.uploadFieldName, this.file, this.file.name);\n        await this.uploadFile(formData);\n        this.$emit('form-submit-success');\n      } catch (error) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(error);\n        }\n        this.$emit('form-submit-failure');\n      }\n    },\n    onNextButtonClick () {\n      this.updateUserState({\n        state: 'pitch_deck_review',\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    id=\"view\"\n    class=\"root\"\n  >\n    <h1>{{ title }}</h1>\n    <p>{{ instructions }}</p>\n\n    <div\n      v-if=\"isInitial\"\n      class=\"form-container\"\n    >\n      <b-form\n        id=\"upload-form\"\n        enctype=\"multipart/form-data\"\n        @submit.prevent=\"onFormSubmit\"\n      >\n        <fieldset>\n          <fieldset class=\"form-group\">\n            <label\n              :for=\"uploadFieldName\"\n              class=\"col-form-label col-form-label-lg\"\n            >\n              Upload your pitch deck here\n            </label>\n            <p class=\"text-muted\">\n              {{ inputHelp }}\n            </p>\n            <b-form-file\n              v-model=\"file\"\n              :name=\"uploadFieldName\"\n              accept=\"application/pdf, application/vnd.openxmlformats-officedocument.presentationml.presentation\"\n              required\n              :state=\"inputValid\"\n              autofocus\n              size=\"lg\"\n              placeholder=\"Choose a file...\"\n              drop-placeholder=\"Drop your file here...\"\n              style=\"text-align: left\"\n            />\n          </fieldset>\n          <input\n            type=\"submit\"\n            :disabled=\"!inputValid\"\n            value=\"Upload\"\n            class=\"btn btn-lg btn-primary\"\n          >\n        </fieldset>\n      </b-form>\n    </div>\n\n    <div\n      v-if=\"isSaving\"\n      class=\"message\"\n    >\n      <p>\n        Uploading file\n      </p>\n      <PulseLoader\n        class=\"loader\"\n        color=\"#007bff\"\n        size=\"25px\"\n      />\n    </div>\n\n    <div\n      v-if=\"isSuccess\"\n      class=\"message\"\n    >\n      <p>{{ successMessage }}</p>\n    </div>\n\n    <div\n      v-if=\"isFailed\"\n      class=\"message\"\n    >\n      <p>\n        Uploaded failed.\n        <a\n          href=\"javascript:void(0)\"\n          @click=\"reset()\"\n        >\n          Try again\n        </a>\n      </p>\n      <pre>{{ uploadError }}</pre>\n    </div>\n  </div>\n</template>\n\n<style lang=\"sass\">\n  @import '../assets/sass/vars'\n  .root\n    .message, .form-container\n      position: relative\n      height: 100%\n      display: flex\n      flex-direction: column\n      justify-content: center\n    form\n      fieldset\n        &.form-group\n          label\n            font-weight: bold\n          input\n            &:hover\n              cursor: pointer\n    h1\n      color: #039\n    p\n      color: #007bff\n    .next-button\n      min-width: 30vw\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReUploadPitchDeckModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReUploadPitchDeckModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReUploadPitchDeckModal.vue?vue&type=template&id=750bf290&\"\nimport script from \"./ReUploadPitchDeckModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ReUploadPitchDeckModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReUploadPitchDeckModal.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReUploadPitchDeckModal.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReUploadPitchDeckModal.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}