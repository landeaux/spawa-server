{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/components/BaseHubSpotFormView.vue?1d1e","webpack:///src/components/BaseHubSpotFormView.vue","webpack:///./src/components/BaseHubSpotFormView.vue?fde0","webpack:///./src/components/BaseHubSpotFormView.vue","webpack:///./src/components/BaseHubSpotFormView.vue?fd77"],"names":["$","$entries","entries","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","values","render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","title","instructions","name","routerLinkTo","staticClass","staticStyle","formBaseUrl","prefill","on","onFormSubmitted","_e","successMessage","staticRenderFns","components","HubSpotFormWidget","props","default","required","type","String","prefillKeyMap","Object","data","formSubmitted","state","userPopulated","widgetLoaded","computed","showHubSpotFormWidget","watch","currentUser","forEach","prototype","hasOwnProperty","methods","component"],"mappings":"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","file":"js/chunk-2a60e5c2.c4df16c1.js","sourcesContent":["var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"view\"}},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('p',[_vm._v(_vm._s(_vm.instructions))]),(_vm.formSubmitted)?_c('router-link',{attrs:{\"to\":{ name: _vm.routerLinkTo }}},[_c('button',{staticClass:\"btn btn-primary next-button\",attrs:{\"type\":\"button\"}},[_vm._v(\" Next \")])]):_c('button',{staticClass:\"btn btn-primary next-button\",staticStyle:{\"cursor\":\"not-allowed\"},attrs:{\"type\":\"button\",\"disabled\":\"\",\"title\":\"Please fill out the form to continue.\"}},[_vm._v(\" Next \")]),(_vm.showHubSpotFormWidget)?_c('HubSpotFormWidget',{staticClass:\"widget\",attrs:{\"form-base-url\":_vm.formBaseUrl,\"prefill\":_vm.prefill},on:{\"form-submitted\":_vm.onFormSubmitted}}):_vm._e(),(_vm.formSubmitted)?_c('p',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.successMessage)+\" \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'BaseHubSpotFormView',\n  components: {\n    HubSpotFormWidget: () => import('@/components/HubSpotFormWidget'),\n  },\n  props: {\n    /**\n     * The form instructions\n     */\n    instructions: {\n      default: '',\n      required: false,\n      type: String,\n    },\n    /**\n     * The base form url\n     */\n    formBaseUrl: {\n      default: '',\n      required: true,\n      type: String,\n    },\n    /**\n     * An object containing key/value pairs where the key is the HubSpot form\n     * field key to pre-fill and the value is the app-side user prop containing\n     * the value we want to pre-fill with.\n     *\n     * e.g., To fill the 'user_id' and 'email' fields on the form with the\n     * current user's mongodb id and email address we would pass:\n     * {\n     *   user_id: 'id',\n     *   email: 'email',\n     * }\n     */\n    prefillKeyMap: {\n      default: () => ({}),\n      required: false,\n      type: Object,\n    },\n    /**\n     * The name of the router view to send the user to after form submission\n     */\n    routerLinkTo: {\n      default: 'home',\n      required: true,\n      type: String,\n    },\n    /**\n     * The success message to display to the user to after form submission\n     */\n    successMessage: {\n      default: 'Thank you for submitting the form! Click \"Next\" to continue.',\n      required: false,\n      type: String,\n    },\n    /**\n     * The title of the form\n     */\n    title: {\n      default: '',\n      required: true,\n      type: String,\n    },\n  },\n  data () {\n    return {\n      formSubmitted: false,\n      prefill: {},\n      state: 'init',\n      userPopulated: false,\n      widgetLoaded: false,\n    };\n  },\n  computed: {\n    ...mapGetters(['currentUser']),\n    showHubSpotFormWidget () {\n      return this.userPopulated && !this.formSubmitted;\n    },\n  },\n  watch: {\n    /**\n     * This watcher waits for the currentUser data to populate and once\n     * populated, sets the prefill object to the key/value pairs to pass to the\n     * widget for pre-filling form fields.\n     */\n    currentUser () {\n      this.userPopulated = Object.entries(this.currentUser).length > 0;\n      if (this.userPopulated) {\n        Object.keys(this.prefillKeyMap).forEach(key => {\n          const userProp = this.prefillKeyMap[key];\n          if (Object.prototype.hasOwnProperty.call(this.currentUser, userProp)) {\n            this.prefill[key] = this.currentUser[userProp];\n          }\n        });\n      }\n    },\n  },\n  methods: {\n    onFormSubmitted () {\n      this.formSubmitted = true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div id=\"view\">\n    <h1>{{ title }}</h1>\n    <p>{{ instructions }}</p>\n    <router-link\n      v-if=\"formSubmitted\"\n      :to=\"{ name: routerLinkTo }\"\n    >\n      <button\n        type=\"button\"\n        class=\"btn btn-primary next-button\"\n      >\n        Next\n      </button>\n    </router-link>\n    <button\n      v-else\n      type=\"button\"\n      class=\"btn btn-primary next-button\"\n      style=\"cursor: not-allowed\"\n      disabled\n      title=\"Please fill out the form to continue.\"\n    >\n      Next\n    </button>\n    <HubSpotFormWidget\n      v-if=\"showHubSpotFormWidget\"\n      class=\"widget\"\n      :form-base-url=\"formBaseUrl\"\n      :prefill=\"prefill\"\n      @form-submitted=\"onFormSubmitted\"\n    />\n    <p\n      v-if=\"formSubmitted\"\n      class=\"message\"\n    >\n      {{ successMessage }}\n    </p>\n  </div>\n</template>\n\n<style scoped lang=\"sass\">\n@import '../assets/sass/vars'\n#view\n  display: flex\n  flex-direction: column\n  .loader, .message\n    position: relative\n    height: 100%\n    display: flex\n    flex-direction: row\n    justify-content: center\n    align-items: center\n  .widget\n    flex-basis: 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseHubSpotFormView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseHubSpotFormView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseHubSpotFormView.vue?vue&type=template&id=0af8982f&scoped=true&\"\nimport script from \"./BaseHubSpotFormView.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseHubSpotFormView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseHubSpotFormView.vue?vue&type=style&index=0&id=0af8982f&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0af8982f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseHubSpotFormView.vue?vue&type=style&index=0&id=0af8982f&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseHubSpotFormView.vue?vue&type=style&index=0&id=0af8982f&scoped=true&lang=sass&\""],"sourceRoot":""}