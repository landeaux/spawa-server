{"version":3,"sources":["webpack:///./src/components/HubSpotFormWidget.vue?02e1","webpack:///src/components/HubSpotFormWidget.vue","webpack:///./src/components/HubSpotFormWidget.vue?6389","webpack:///./src/components/HubSpotFormWidget.vue","webpack:///./src/components/HubSpotFormWidget.vue?a4ad","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_e","ref","style","iframeLoading","iframeSrc","on","onLoad","staticRenderFns","name","components","PulseLoader","props","formBaseUrl","default","required","type","String","prefill","Object","data","computed","queryString","entries","prefillCopy","length","result","keys","forEach","value","encodeURIComponent","slice","created","window","addEventListener","methods","isHubSpotFormEvent","event","emitHubSpotEvent","$emit","events","key","dev","console","error","warn","component","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","max","Math","target","proto","forced","start","end","Constructor","n","O","k","fin","undefined","constructor","Array","prototype","call"],"mappings":"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","file":"js/chunk-ee134eee.8cd4760c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iframe-wrapper\"},[(_vm.iframeLoading)?_c('PulseLoader',{staticClass:\"loader\",attrs:{\"color\":\"blue\",\"size\":\"25px\"}}):_vm._e(),_c('vue-friendly-iframe',{ref:\"iframeEl\",style:({ 'display' : _vm.iframeLoading ? 'none' : 'block' }),attrs:{\"src\":_vm.iframeSrc,\"frameborder\":\"0\"},on:{\"load\":_vm.onLoad}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/**\n * HubSpotFormWidget\n *\n * HubSpot Form Widget component for embedding HubSpot forms.\n */\nexport default {\n  name: 'HubSpotFormWidget',\n  components: {\n    PulseLoader: () => import('vue-spinner/src/PulseLoader.vue'),\n  },\n  props: {\n    /**\n     * The base form url to load in the iframe\n     */\n    formBaseUrl: {\n      default: '',\n      required: true,\n      type: String,\n    },\n    /**\n     * The prefill options to populate in the widget\n     */\n    prefill: {\n      default: () => ({}),\n      required: false,\n      type: Object,\n    },\n  },\n  data () {\n    return {\n      iframeLoading: true,\n    };\n  },\n  computed: {\n    /**\n     * The iframe source url composed of the base form url and query string for\n     * pre-populating form fields.\n     *\n     * @public\n     * @returns {string}\n     */\n    iframeSrc () {\n      return this.formBaseUrl + this.queryString;\n    },\n    /**\n     * Generates a uri encoded query string for use in pre-populating form\n     * fields.\n     *\n     * @public\n     * @returns {string}\n     */\n    queryString () {\n      let result = '';\n\n      /*\n       * Since vue adds extra getters/setters for reactivity, and since we only\n       * want the plain key/value pairs, we need to make a copy of it first.\n       */\n      const prefillCopy = { ...this.prefill };\n\n      // Generate our query string based on each prefill key/value pair\n      if (Object.entries(prefillCopy).length > 0 &&\n        prefillCopy.constructor === Object) {\n        result += '?';\n        Object.keys(prefillCopy).forEach(key => {\n          let value = prefillCopy[key];\n          value = encodeURIComponent(value); // make string safe for uri\n          result += `${key}=${value}&`;\n        });\n        result = result.slice(0, -1); // remove the last '&'\n      }\n      return result;\n    },\n  },\n  created () {\n    // Start listening for messages from HubSpot\n    window.addEventListener(\n      'message',\n      this.emitHubSpotEvent\n    );\n  },\n  methods: {\n    /**\n     * iframe onload handler\n     *\n     * Triggered after the iframe's document.onreadystatechange triggers and the\n     * documents readyState is complete.\n     */\n    onLoad () {\n      this.iframeLoading = false;\n    },\n    /**\n     * Checks if the message event received form event from HubSpot\n     *\n     * @public\n     */\n    isHubSpotFormEvent (event) {\n      return event.data.type === 'hsFormCallback';\n    },\n    /**\n     * Emits an event to the parent component based on the event received from\n     * HubSpot.\n     *\n     * @public\n     * @param event The MessageEvent object\n     */\n    emitHubSpotEvent (event) {\n      if (this.isHubSpotFormEvent(event)) {\n        const key = event.data.eventName;\n        const events = {\n          'onBeforeFormInit': 'before-form-init',\n          'onBeforeValidationInit': 'before-validation-init',\n          'onFormReady': 'form-ready',\n          'onFormFailedValidation': 'form-failed-validation',\n          'onFormSubmit': 'form-submit',\n          'onFormSubmitted': 'form-submitted',\n        };\n        try {\n          this.$emit(events[key], event);\n        } catch (error) {\n          if (this.dev) {\n            console.error(error);\n            console.warn(`Event key missing for eventName '${key}'`);\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"iframe-wrapper\">\n    <PulseLoader\n      v-if=\"iframeLoading\"\n      class=\"loader\"\n      color=\"blue\"\n      size=\"25px\"\n    />\n    <vue-friendly-iframe\n      ref=\"iframeEl\"\n      :style=\"{ 'display' : iframeLoading ? 'none' : 'block' }\"\n      :src=\"iframeSrc\"\n      frameborder=\"0\"\n      @load=\"onLoad\"\n    />\n  </div>\n</template>\n\n<style lang=\"sass\">\n.iframe-wrapper\n  width: 100%\n  border: 0\n\n  .loader\n    position: relative\n    height: 100%\n    display: flex\n    flex-direction: row\n    justify-content: center\n    align-items: center\n\n  .vue-friendly-iframe\n    height: 100%\n    width: 100%\n    iframe\n      height: 100%\n      width: 100%\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HubSpotFormWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HubSpotFormWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HubSpotFormWidget.vue?vue&type=template&id=029de4f7&\"\nimport script from \"./HubSpotFormWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./HubSpotFormWidget.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HubSpotFormWidget.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HubSpotFormWidget.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HubSpotFormWidget.vue?vue&type=style&index=0&lang=sass&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}