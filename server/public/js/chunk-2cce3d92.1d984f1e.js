(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cce3d92"],{"1b31":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.statusIsPending?r("div",{staticClass:"loader-container"},[r("PulseLoader",{staticClass:"loader",attrs:{color:"blue",size:"25px"}})],1):e.statusIsError?r("b-alert",{staticClass:"alerts",attrs:{show:!0,variant:"danger",dismissible:"",fade:""},on:{dismissed:e.onErrorAlertDismissed}},[e._v(" An error has occurred! "),r("ul",{staticClass:"error-messages"},e._l(e.responseErrors,(function(t,a){return r("li",{key:a},[r("strong",[e._v(e._s(a))]),e._v(" "+e._s(t)+" ")])})),0)]):e.statusIsSuccess?r("b-alert",{staticClass:"alerts",attrs:{show:!0,variant:"success",dismissible:"",fade:""}},[e._v(" User Updated: "),r("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",to:{name:"profile",params:{username:e.createdUsername}}}},[e._v(" "+e._s(e.createdUsername)+" ")])],1):e._e(),r("ValidationObserver",{ref:"form",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit,s=t.reset,o=t.invalid,i=t.pristine;return[e.show?r("b-form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)},reset:function(t){return t.preventDefault(),e.onReset(s)}}},[r("div",{staticClass:"main-form"},[r("TextInputWithValidation",{attrs:{id:"username",label:"Username",placeholder:"Enter Username",rules:"alpha_num",required:"",type:"text"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("TextInputWithValidation",{attrs:{id:"email",label:"Email",placeholder:"Enter Email",required:"",type:"email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("TextInputWithValidation",{attrs:{id:"company",label:"Company",placeholder:"Enter Company",required:"",type:"text"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}}),r("TextInputWithValidation",{attrs:{id:"password",label:"Password",placeholder:"Enter Password",rules:"password:@confirm-password",type:"password",vid:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("TextInputWithValidation",{attrs:{id:"confirm-password",label:"Confirm Password",placeholder:"Re-type Password",rules:"password:@password",type:"password",vid:"confirm-password"},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}}),r("b-form-group",[r("b-form-checkbox",{attrs:{id:"input-active",size:"lg"},model:{value:e.form.active,callback:function(t){e.$set(e.form,"active",t)},expression:"form.active"}},[e._v(" Active Account? ")])],1),r("ValidationProvider",{attrs:{name:"Role",rules:"required",vid:"role"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,s=t.ariaInput,o=t.ariaMsg,i=(t.failed,t.passed);return[r("b-form-group",{attrs:{id:"input-group-role",label:"Role","label-for":"input-role"}},[r("b-form-select",e._b({attrs:{id:"input-role",options:e.roles,required:"",size:"lg"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},"b-form-select",s,!1)),r("b-form-invalid-feedback",e._b({attrs:{id:"input-role-feedback",state:i}},"b-form-invalid-feedback",o,!1),[e._v(" "+e._s(a[0])+" ")])],1)]}}],null,!0)}),"founder"===e.form.role?r("ValidationProvider",{attrs:{name:"State",rules:"required_if:role"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,s=t.ariaInput,o=t.ariaMsg,i=(t.failed,t.passed);return[r("b-form-group",{attrs:{id:"input-group-state",label:"State","label-for":"input-state"}},[r("b-form-select",e._b({attrs:{id:"input-state",options:e.founderStates,size:"lg"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},"b-form-select",s,!1)),r("b-form-invalid-feedback",e._b({attrs:{id:"input-state-feedback",state:i}},"b-form-invalid-feedback",o,!1),[e._v(" "+e._s(a[0])+" ")])],1)]}}],null,!0)}):e._e()],1),r("b-button",{staticClass:"form-btn",attrs:{type:"submit",disabled:e.submitDisabled(o,i),variant:"primary"}},[e._v(" Submit ")]),r("b-button",{staticClass:"form-btn",attrs:{type:"reset",disabled:!e.fieldsHaveChanged,variant:"danger"}},[e._v(" Reset ")])],1):e._e()]}}])})],1)},s=[],o=(r("4160"),r("45fc"),r("b64b"),r("d3b7"),r("159b"),r("96cf"),r("1da1")),i=r("5530"),n=r("6c33"),l=r("2f62"),c=r("7bb1"),u=Object(l["a"])("user"),d=u.mapActions,f="INIT",m="PENDING",p="SUCCESS",b="ERROR",h={name:"AdminDashboardModifyUser",components:{PulseLoader:function(){return r.e("chunk-97614f80").then(r.bind(null,"8a5d"))},TextInputWithValidation:function(){return r.e("chunk-6571dfd6").then(r.bind(null,"43a9"))},ValidationObserver:c["a"],ValidationProvider:c["b"]},props:{user:{default:function(){return{}},required:!0,type:Object}},data:function(){return{status:f,responseErrors:{},form:{username:"",email:"",company:"",password:"",confirmPassword:"",active:!0,role:"",state:""},initialForm:{},roles:[{text:"Select One",value:null},{text:"Founder",value:"founder"},{text:"Admin",value:"admin"},{text:"Reviewer",value:"reviewer"}],founderStates:[{text:"Submit Eapp",value:"submit_eapp"},{text:"Watch Pitch Video",value:"watch_pitch_video"},{text:"Take Pitch Quiz",value:"take_pitch_quiz"},{text:"Submit Pitch Deck",value:"submit_pitch_deck"},{text:"Pitch Deck Review",value:"pitch_deck_review"},{text:"Book Pitch Date",value:"book_pitch_date"},{text:"Pitch Accepted",value:"pitch_accepted"},{text:"Pitch Cancelled",value:"pitch_cancelled"}],createdUsername:"",show:!0}},computed:{fieldsHaveChanged:function(){var e=this;return Object.keys(this.form).some((function(t){return!!Object.prototype.hasOwnProperty.call(e.initialForm,t)&&e.form[t]!==e.initialForm[t]}))},showForm:function(){return!this.statusIsPending},statusIsPending:function(){return this.status===m},statusIsSuccess:function(){return this.status===p},statusIsError:function(){return this.status===b}},created:function(){this.hydrateForm()},methods:Object(i["a"])({},d({updateUserById:n["A"]}),{clearErrors:function(){this.responseErrors={}},generatePayload:function(){var e=this,t=Object(i["a"])({},this.form);return delete t.confirmPassword,Object.keys(t).forEach((function(r){Object.prototype.hasOwnProperty.call(e.initialForm,r)&&t[r]===e.initialForm[r]&&delete t[r]})),t},hydrateForm:function(){var e=this;Object.keys(this.form).forEach((function(t){Object.prototype.hasOwnProperty.call(e.user,t)&&(e.form[t]=e.user[t])})),this.initialForm=Object(i["a"])({},this.form)},onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearErrors(),"founder"!==e.form.role&&(e.form.state=""),r=Object(i["a"])({},e.form),Object.keys(e.form).forEach((function(t){e.form[t]!==e.user[t]&&""!==e.form[t]||delete r[t]})),r.id=e.user.id,e.status=m,t.prev=6,t.next=9,e.updateUserById(r);case 9:e.createdUsername=e.form.username,e.resetForm(),e.$refs.form.reset(),e.status=p,t.next=21;break;case 15:t.prev=15,t.t0=t["catch"](6),a=t.t0.response,s=a.data.errors,e.status=b,e.responseErrors=s;case 21:case"end":return t.stop()}}),t,null,[[6,15]])})))()},onReset:function(e){this.createdUsername="",this.resetForm(),this.clearErrors(),this.status=f,e()},onErrorAlertDismissed:function(){this.clearErrors()},resetForm:function(){this.form.password="",this.form.confirmPassword="",this.hydrateForm()},submitDisabled:function(e,t){return e||t||!this.fieldsHaveChanged}})},v=h,w=(r("7f3e"),r("2877")),_=Object(w["a"])(v,a,s,!1,null,"1cca790a",null);t["default"]=_.exports},"7f3e":function(e,t,r){"use strict";var a=r("9c5d"),s=r.n(a);s.a},"9c5d":function(e,t,r){}}]);
//# sourceMappingURL=chunk-2cce3d92.1d984f1e.js.map